<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">


<title>Structured literature reviews using R and Web of Science - Tyler Clavelle</title>
<meta property="og:title" content="Structured literature reviews using R and Web of Science - Tyler Clavelle">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://amber.rbind.io/" >
  

<meta property="description" content="How to conduct a structured literature search in R via the Web of Science API and the R package glue">
<meta property="og:description" content="How to conduct a structured literature search in R via the Web of Science API and the R package glue">


<meta name="twitter:creator" content="">

<meta name="description" content="Personal website and blog of Tyler Clavelle">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="twitter:creator" content="">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">



  <link href="/css/style.sea.css" rel="stylesheet" id="theme-stylesheet">


<link href="/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="/img/site_icon.jpg">


<link rel="stylesheet" href="/css/github-gist.css" rel="stylesheet" id="theme-stylesheet">




<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-93040290-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              
<div id="sidebar" class="col-sb-fixedpos col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <h1 class="sidebar-heading"><a href="/">Tyler Clavelle</a></h1>

    <ul class="sidebar-menu">
      
      
        <li><a href="/about/">About</a></li>
      
        <li><a href="/blog/">Blog</a></li>
      
        <li><a href="/code/">Code</a></li>
      
        <li><a href="/contact/">Get in touch</a></li>
      

       

 

      

 

      
 

    </ul>
    <p class="social">
  
  
  
  <a href="https://twitter.com/tclavL" data-animate-hover="pulse" class="external twitter">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  <a href="mailto:tyler.clavelle@gmail.com" data-animate-hover="pulse" class="email">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://linkedin.com/in/tyler-clavelle-b9902716" data-animate-hover="pulse">
    <i class="fa fa-linkedin"></i>
  </a>
  
  
  
<a href="https://github.com/tclavelle">
  <i class="fa fa-github"></i>
</a>




</p>


    <div class="copyright">
      <p class="credit">
        
          &copy;2017 Tyler Clavelle
        
        | Template by <a href="https://bootstrapious.com/free-templates" class="external">Bootstrapious.com</a>

&amp; ported to Hugo by <a href="https://github.com/kishaningithub">Kishan B</a>

      </p>
    </div>
  </div>
</div>

<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background col-main-fixedpos">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="/">Tyler Clavelle</a></h1>
</div>


            <div class="row">
                  <div class="col-sm-4">
                    <div class="image">
                      <img src="/" class="img-responsive" alt="">
                    </div>
                  </div>

                  <div class="col-md-8">
                      <h2>Structured literature reviews using R and Web of Science</h2>
                          <p class="author-category">
                            Tyler Clavelle
                          </p>

                          <p class="date-comments">
                          <i class="fa fa-calendar-o"></i> September 16, 2017
                          </p>

                          
                  
                      </div>
                    </div>
                  </br>

<div class="row">
   <div class="content-column-content">
          <div class="col-lg-8">

<p>For those of us in academia, a lot of time is spent staying up-to-date on the latest scientific literature. Usually this entails sporadic searches on Google Scholar. Sometimes, however, a more thorough and systematic review of the literature is desired.</p>
<p>This code post will walk through how to conduct structured literature searches using the Web of Science API and the <code>glue</code> R package.</p>
<pre class="r"><code>### Packages
library(tidyverse)
library(stringr)
library(forcats)
library(RColorBrewer)</code></pre>
<pre class="r"><code># devtools::install_github(&quot;juba/rwos&quot;) # run if rwos not already installed
library(rwos)</code></pre>
<pre class="r"><code># Primary Keywords
aqua &lt;- c(&#39;aquaculture&#39;,&#39;mariculture&#39;,&#39;fish farm&#39;)
fish &lt;- c(&#39;fishery&#39;,&#39;fisheries&#39;)</code></pre>
<p>Weâ€™ll also look for studies that focus on several topics related to aquaculture and capture fisheries, including disease, genetics, and invasive species.</p>
<pre class="r"><code>disease &lt;- c(&#39;disease&#39;,&#39;disease transmission&#39;,&#39;pathogen&#39;,&#39;parasite&#39;,&#39;sea lice&#39;)
genetic &lt;- c(&#39;genetic pollution&#39;,&#39;introgression&#39;,&#39;GMO&#39;,&#39;wild fitness&#39;,&#39;escape&#39;)
invasive &lt;- c(&#39;invasive species&#39;,&#39;resource competition&#39;,&#39;exotic species&#39;)</code></pre>
<pre class="r"><code># List of all interaction types and keywords
int_list &lt;- list(&#39;aquaculture&#39; = aqua,
                 &#39;fishery&#39; = fish)</code></pre>
<div id="construct-queries" class="section level2">
<h2>Construct Queries</h2>
<pre class="r"><code># Use keywords to build structured queries for the WOS search

# Primary query
prime_q &lt;- paste0(&quot;(TS=(&quot;,primary[1], &quot; OR &quot;, primary[2], &quot; OR &quot;, primary[3],&quot;)&quot;,
                  &quot; AND (TS=(&quot;, primary[4], &#39; OR &#39;, primary[5], &#39; OR &#39;, primary[6], &#39;))&#39;,
                  &quot; AND (DT=(Article OR Book))&quot;)

# Function for constructing queries for each interaction
build_query &lt;- function(int) {
 paste0(prime_q, &#39; AND (TS=(&#39;, paste(int, collapse = &quot; OR &quot;),&#39;)))&#39;)
}

# Build all queries
queries &lt;- lapply(int_list,
                  FUN = function(x) build_query(int = x))</code></pre>
</div>
<div id="query-web-of-science" class="section level2">
<h2>Query Web of Science</h2>
<pre class="r"><code># Authenticate
sid &lt;- wos_authenticate()

# Search results for primary keywords
prime_res &lt;- wos_search(sid, query = paste0(prime_q,&#39;)&#39;)) # 5,600 results

# Search results for all interactions
all_results &lt;- lapply(queries, FUN = function(x) wos_search(sid, query = x[1]))</code></pre>
<pre class="r"><code># Retrieve results for primary keywords results
prime_pub_results &lt;- wos_retrieve(prime_res)

# Retrieve results for all interaction queries
all_pub_results &lt;- lapply(seq_along(all_results), function(r){
  results &lt;- all_results[[r]]
  firsts &lt;- seq(from = 1, to = results[2]$results, by = 100)
  all_pubs &lt;- lapply(firsts, function(x) {
    temp &lt;- wos_retrieve(results, first = x)
  }) %&gt;%
    bind_rows() %&gt;%
    mutate(interaction = names(all_results[r]))
  return(all_pubs)
}) %&gt;%
  bind_rows()</code></pre>
</div>
<div id="summarize-results" class="section level2">
<h2>Summarize Results</h2>
<pre class="r"><code># Publications by interaction type over time
all_pub_results %&gt;%
  filter(year &lt; 2017) %&gt;%
  group_by(interaction, year) %&gt;%
  summarize(pubs = length(unique(uid))) %&gt;%
  ggplot(aes(x = as.numeric(year), y = pubs, color = fct_reorder(interaction, pubs, sum, .desc = T))) +
  geom_line() +
  scale_color_brewer(palette = &#39;Paired&#39;) +
  labs(x = &#39;Year&#39;,
       y = &#39;Publications&#39;,
       color = &#39;Interaction&#39;) +
  theme_bw()</code></pre>
</div>

      
       </div>
     </div>
   </div>





        <a href="#" class="back-to-top">
        <i class="fa fa-arrow-circle-o-up" aria-hidden="true"></i>

        </a>

         <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'tclavelle-github-io';
    var disqus_identifier = '\/code\/2017\/web_of_science\/';
    var disqus_title = 'Structured literature reviews using R and Web of Science';
    var disqus_url = '\/code\/2017\/web_of_science\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
   

          </div>
      </div>
  </div>
  <script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.cookie.js"> </script>
<script src="/js/ekko-lightbox.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/masonry.pkgd.min.js"></script>
<script src="/js/imagesloaded.pkgd.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/front.js"></script>
<script src="/js/backtotop.js"></script> 
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
